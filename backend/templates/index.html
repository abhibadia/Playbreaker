<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basketball Defensive Formations</title>
  <link rel="stylesheet" href="../static/style.css">
  <style>
    /* Ensure content sits below fixed navbar and remove default body margins */
    body {
      margin: 0;
      padding-top: 60px; /* adjust if navbar height changes */
    }
    /* No extra top margin on the king image container */
    #top-image-container {
      margin-top: 0;
    }
  </style>
</head>

<body>
  <!-- Navbar -->
  <header>
    <div class="navbar">
      <a onclick="location.href = '/'">
        <img src="../static/images/logo2.png" alt="Logo" class="logo">
      </a>
      <div id="current-time" class="center-time"></div>
      <div class="nav-links">
        <a onclick="location.href = '/about'" accesskey="a"><u>A</u>bout</a>
        <a onclick="location.href='/test'" accesskey="c"><u>C</u>oordinate Simulator</a>
        <a onclick="location.href='/uploader'" accesskey="u">Video <u>U</u>pload</a>
      </div>
      <div class="toggle-switch-container">
        <label class="toggle-switch">
          <input type="checkbox" id="darkModeToggle">
          <span class="slider"></span>
        </label>
        <span class="toggle-text">Viewing Mode</span>
      </div>
    </div>
  </header>

  <!-- King Image Positioned Below Navbar -->
  <div id="top-image-container">
    <img src="../static/images/king.png" alt="King Image" id="kingImage">
  </div>

  <!-- Video Player Section -->
  <div id="videoPlayerContainer">
    <video id="videoPlayer" controls>
      <source src="../static/video/brondit.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <button class="close-btn" id="closeBtn">&times;</button>
  </div>

  <main>
    <h1 class="welcome-text">Welcome to Playbreaker</h1>

    <!-- Primary Slideshow -->
    <div class="slideshow">
      <div class="slide">
        <div class="title-image">Blocked!</div>
        <div class="top-left">
          <p>While the physical attributes and mental strength of your defender matters, getting blocked means that you have done something wrong in reading the defense and executing moves.</p>
          <p>Understanding the defensive scheme you are playing can help you take the best shot possible. This means playing to the zone defense's weaknesses, passing, and creating a split second gap for that corner 3 or a slam dunk.</p>
        </div>
        <a class="lebron-button" href="https://www.youtube.com/watch?v=Hgade7_mjHc" target="_blank">Watch here!</a>
        <img src="../static/images/blocked.png" alt="Blocked Shot">
        <div class="translucent-overlay"></div>
      </div>
    </div>

    <!-- Tenor GIF Embed -->
    <div class="tenor-gif-wrapper" id="gifWrapper">
      <div class="tenor-gif-embed" data-postid="13596181858079823880" data-share-method="host" data-aspect-ratio="1" data-width="100%">
        <a href="https://tenor.com/view/lbj-gif-13596181858079823880">Lbj GIF</a> from <a href="https://tenor.com/search/lbj-gifs">Lbj GIFs</a>
      </div>
    </div>
    <script type="text/javascript" async src="https://tenor.com/embed.js"></script>

    <!-- Secondary Slideshow -->

    <div class="slideshow_2">
      <div class="slide_2">
        <!-- 2-3 Defense -->
        <div class="title-image">2-3 Defense</div>
        <div class="top-left">
          <p>The 2-3 zone puts two defenders up top guarding the perimeter and three down low protecting the paint; wings sink into the corners and the middle defender patrols the high post.</p>
          <p>Attack it by flashing a big to the elbow, then skip-pass out to the weak-side corner before the zone can recover—those corner threes will open up.</p>
        </div>
        <img src="../static/images/2-3.png" alt="2-3">
        <div class="translucent-overlay"></div>
    
        <!-- 2-1-2 Defense -->
        <div class="title-image">2-1-2 Defense</div>
        <div class="top-left">
          <p>Here you’ve got two up top pressuring the arc, one hanging around the free-throw line, and two down low sealing off the paint.</p>
          <p>Overload one side with ball and player movement—draw that lone high defender toward you, then hit the opposite wing for an open jump shot.</p>
        </div>
        <img src="../static/images/2-1-2.png" alt="2-1-2">
        <div class="translucent-overlay"></div>
    
        <!-- 1-2-2 Defense -->
        <div class="title-image">1-2-2 Defense</div>
        <div class="top-left">
          <p>One defender pressures the ball at the top, two slide across the free-throw line, and two anchor in the corners to protect against drives and wingshots.</p>
          <p>Dribble-penetrate the gap between the top two, then kick out to the corners—once their second layer collapses, those shots are yours.</p>
        </div>
        <img src="../static/images/1-2-2.png" alt="1-2-2">
        <div class="translucent-overlay"></div>
    
        <!-- 1-3-1 Defense -->
        <div class="title-image">1-3-1 Defense</div>
        <div class="top-left">
          <p>The 1-3-1 forms a diamond: one up top, three across the middle, one watching the backline—designed to clog passing lanes.</p>
          <p>Overload a wing with quick passes and a drive; when they shift, reverse it fast and catch them scrambling on the weak side for open looks.</p>
        </div>
        <img src="../static/images/1-3-1.png" alt="1-3-1">
        <div class="translucent-overlay"></div>
    
        <!-- 3-2 Defense -->
        <div class="title-image">3-2 Defense</div>
        <div class="top-left">
          <p>Three defenders press the arc to contest outside shots, while two stay low to protect the rim and rebound.</p>
          <p>Attack by driving the seams in the top three, then kick out to the corners—those bottom two can’t cover both blocks and corners at once.</p>
        </div>
        <img src="../static/images/3-2.png" alt="3-2">
        <div class="translucent-overlay"></div>
      </div>
    </div>
    

    <!-- Court and Players -->
    <div class="court-container">
      <div class="basketball-court">
        <div class="player" id="player1"></div>
        <div class="player" id="player2"></div>
        <div class="player" id="player3"></div>
        <div class="player" id="player4"></div>
        <div class="player" id="player5"></div>
      </div>
    </div>

    <!-- Formation Buttons -->
    <div class="formation-buttons">
      <button onclick="changeFormation('3-2')" accesskey="1">3-2 Scheme</button>
      <button onclick="changeFormation('2-3')" accesskey="2">2-3 Scheme</button>
      <button onclick="changeFormation('1-2-2')" accesskey="3">1-2-2 Scheme</button>
      <button onclick="changeFormation('2-1-2')" accesskey="4">2-1-2 Scheme</button>
      <button onclick="changeFormation('1-3-1')" accesskey="5">1-3-1 Scheme</button>
    </div>
  </main>

  <script>
    // Dark mode toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    if (localStorage.getItem('dark-mode') === 'true') {
      document.body.classList.add('dark-mode');
      darkModeToggle.checked = true;
    }
    darkModeToggle.addEventListener('change', () => {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('dark-mode', document.body.classList.contains('dark-mode'));
    });

    // Update clock every second
    function updateTime() {
      const now = new Date();
      document.getElementById("current-time").textContent = now.toLocaleTimeString();
    }
    setInterval(updateTime, 1000);
    updateTime();

    // Change defensive formation positions
    function changeFormation(formation) {
      const players = Array.from(document.querySelectorAll('.player'));
      players.forEach(p => { p.style.top = '50%'; p.style.left = '50%'; });
      const layouts = {
        '2-3': ['20%','10%','20%','50%','20%','90%','70%','30%','70%','70%'],
        '3-2': ['20%','25%','20%','70%','70%','10%','70%','47%','70%','85%'],
        '1-2-2': ['23%','26%','80%','47%','50%','20%','50%','74%','23%','68%'],
        '2-1-2': ['20%','20%','20%','75%','50%','47%','80%','20%','80%','75%'],
        '1-3-1': ['15%','47%','50%','15%','50%','47%','50%','80%','90%','47%']
      };
      layouts[formation].forEach((val, i) => {
        if (i % 2 === 0) players[i/2].style.top = val;
        else players[Math.floor(i/2)].style.left = val;
      });
    }

    // Video close handler
    document.getElementById('closeBtn').addEventListener('click', () => {
      const video = document.getElementById('videoPlayer');
      video.pause();
      document.getElementById('videoPlayerContainer').style.display = 'none';
    });

    document.addEventListener('DOMContentLoaded', () => {
    // Select both carousels
    const carousels = [
      { wrapper: '.slideshow', item: '.slide' },
      { wrapper: '.slideshow_2', item: '.slide_2' }
    ];

    carousels.forEach(({ wrapper, item }) => {
      const slides = Array.from(document.querySelectorAll(`${wrapper} ${item}`));
      if (!slides.length) return;
      let idx = 0;
      
      const show = () => {
        slides.forEach((s, i) => {
          s.style.display = i === idx ? 'block' : 'none';
        });
      };
      
      // kick it off
      show();
      setInterval(() => {
        idx = (idx + 1) % slides.length;
        show();
      }, 4000);
    });
  });
  </script>
</body>

</html>
